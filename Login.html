<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="logincss" />
    <link rel="stylesheet" href="/font">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <script src="clientejs"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
  </head>
  <body>

    <div class="conta">
      <h1 class="title">Login</h1>
      <span class="login">
        <div>
          <h3>Email</h3>
          <span class="material-symbols-outlined icon">
            mail
            </span>
          <input id="email" class="data" onfocus="change(0)" placeholder="example@gmail.com" />

        </div>
        <div>
          <h3>Contraseña</h3>
          <span class="material-symbols-outlined icon">
            lock
            </span>
          <input id="clave" class="data" onfocus="change(1)" placeholder="Escribir contraseña" type="password" />
        </span>
      </div>
        <button class="but" onclick="Ingresar()"id="botonaccion">Ingresar</button>
    </div>
    <script
      src="https://code.jquery.com/jquery-3.7.0.js"
      integrity="sha256-JlqSTELeR4TLqP0OG9dxM7yDPqX1ox/HfgiSLBj8+kM="
      crossorigin="anonymous"></script>
    <link
      rel="stylesheet"
      href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css" />

    <script
      src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    <script>
      function change(i) {
        h3=document.getElementsByTagName("h3")
        icons=document.getElementsByClassName("icon")
        console.log(i);
          if (i==0) {
          h3[0].style.opacity=1
          h3[1].style.opacity=0.5
          icons[0].classList.add("selected")
          icons[1].classList.remove("selected")

          }
          if (i==1){
            h3[1].style.opacity=1
            h3[0].style.opacity=0.5
            icons[1].classList.add("selected")
            icons[0].classList.remove("selected")  
      }
       
      }
      function Ingresar() {
        var clienteinstanciada = new Cliente(
          "",
          "",
          document.getElementById("email").value,
          document.getElementById("clave").value,
          ""   
        );
        clienteinstanciada.Login().then(
          function (response) {
            console.log(response)
            if (response[0] != undefined )   {
              alert("Acceso otorgado");
              localStorage.setItem("clientelogueado", JSON.stringify(response));
              location.href = "/indice";
            } else {
              alert("no handez jakiando");
            }
          },
          function (err) {
            alert(err);
          }
        );
      }
    </script>
  </body>
</html>
